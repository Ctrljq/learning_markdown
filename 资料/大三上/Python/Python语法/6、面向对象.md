# ä¸€ã€é”™è¯¯å’Œå¼‚å¸¸

 assertï¼ˆæ–­è¨€ï¼‰ç”¨äºåˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåœ¨è¡¨è¾¾å¼æ¡ä»¶ä¸º false çš„æ—¶å€™è§¦å‘å¼‚å¸¸ã€‚

## 1ã€å¼‚å¸¸

 Python ç¨‹åºçš„è¯­æ³•æ˜¯æ­£ç¡®çš„ï¼Œåœ¨è¿è¡Œå®ƒçš„æ—¶å€™ï¼Œä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿé”™è¯¯ã€‚è¿è¡ŒæœŸæ£€æµ‹åˆ°çš„é”™è¯¯è¢«ç§°ä¸ºå¼‚å¸¸ã€‚

å¤§å¤šæ•°çš„å¼‚å¸¸éƒ½ä¸ä¼šè¢«ç¨‹åºå¤„ç†ï¼Œéƒ½ä»¥é”™è¯¯ä¿¡æ¯çš„å½¢å¼å±•ç°åœ¨è¿™é‡Œ:

```py
>>> 10 * (1/0)             # 0 ä¸èƒ½ä½œä¸ºé™¤æ•°ï¼Œè§¦å‘å¼‚å¸¸
Traceback (most recent call last):
  File "<stdin>", line 1, in ?
ZeroDivisionError: division by zero
>>> 4 + spam*3             # spam æœªå®šä¹‰ï¼Œè§¦å‘å¼‚å¸¸
Traceback (most recent call last):
  File "<stdin>", line 1, in ?
NameError: name 'spam' is not defined
>>> '2' + 2               # int ä¸èƒ½ä¸ str ç›¸åŠ ï¼Œè§¦å‘å¼‚å¸¸
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can only concatenate str (not "int") to str
```

å¼‚å¸¸ä»¥ä¸åŒçš„ç±»å‹å‡ºç°ï¼Œè¿™äº›ç±»å‹éƒ½ä½œä¸ºä¿¡æ¯çš„ä¸€éƒ¨åˆ†æ‰“å°å‡ºæ¥: ä¾‹å­ä¸­çš„ç±»å‹æœ‰ ZeroDivisionErrorï¼ŒNameError å’Œ TypeErrorã€‚

é”™è¯¯ä¿¡æ¯çš„å‰é¢éƒ¨åˆ†æ˜¾ç¤ºäº†å¼‚å¸¸å‘ç”Ÿçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶ä»¥è°ƒç”¨æ ˆçš„å½¢å¼æ˜¾ç¤ºå…·ä½“ä¿¡æ¯ã€‚

## 2ã€å¼‚å¸¸å¤„ç†

### try/except

å¼‚å¸¸æ•æ‰å¯ä»¥ä½¿ç”¨ **try/except** è¯­å¥ã€‚

![img](https://www.runoob.com/wp-content/uploads/2019/07/try_except.png)

| **ç‰¹æ€§**     | **Python ä¸­çš„ except**                                 | **æ•°æ®åº“ä¸­çš„è§¦å‘å™¨**                                         |
| ------------ | ------------------------------------------------------ | ------------------------------------------------------------ |
| **è§¦å‘æ¡ä»¶** | å½“ `try` å—ä¸­çš„ä»£ç æŠ›å‡ºå¼‚å¸¸æ—¶æ‰§è¡Œ                      | å½“ç‰¹å®šçš„æ•°æ®åº“æ“ä½œï¼ˆå¦‚ `INSERT`ã€`UPDATE`ã€`DELETE`ï¼‰å‘ç”Ÿæ—¶è§¦å‘ |
| **æ‰§è¡Œæ—¶æœº** | åœ¨ä»£ç è¿è¡Œæ—¶æ£€æµ‹åˆ°å¼‚å¸¸åç«‹å³æ‰§è¡Œ                       | åœ¨æ•°æ®åº“å†…ç‰¹å®šæ“ä½œæ‰§è¡Œå‰æˆ–æ‰§è¡Œåè§¦å‘                         |
| **ç”¨é€”**     | å¤„ç†ç¨‹åºè¿è¡Œæ—¶çš„å¼‚å¸¸ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒæˆ–æä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ | ç”¨äºè‡ªåŠ¨å¤„ç†æ•°æ®åº“ä¸­çš„ç‰¹å®šæ“ä½œï¼Œå¦‚æ—¥å¿—è®°å½•ã€æ•°æ®éªŒè¯ã€è‡ªåŠ¨æ›´æ–°ç­‰ |
| **æ‰§è¡ŒèŒƒå›´** | åªå¯¹ä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸æœ‰æ•ˆ                             | é’ˆå¯¹æ•°æ®åº“è¡¨ä¸­çš„æŸäº›æ“ä½œæœ‰æ•ˆ                                 |

> ä»¥ä¸‹ä¾‹å­ä¸­ï¼Œè®©ç”¨æˆ·è¾“å…¥ä¸€ä¸ªåˆæ³•çš„æ•´æ•°ï¼Œä½†æ˜¯å…è®¸ç”¨æˆ·ä¸­æ–­è¿™ä¸ªç¨‹åºï¼ˆä½¿ç”¨ Control-C æˆ–è€…æ“ä½œç³»ç»Ÿæä¾›çš„æ–¹æ³•ï¼‰ã€‚ç”¨æˆ·ä¸­æ–­çš„ä¿¡æ¯ä¼šå¼•å‘ä¸€ä¸ª KeyboardInterrupt å¼‚å¸¸ã€‚
>
> ```py
> while True:
>   try:
>     x = int(input("è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: "))
>     break
>   except ValueError:
>     print("æ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼")
> ```
>
> > try è¯­å¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å·¥ä½œï¼›
> >
> > - é¦–å…ˆï¼Œæ‰§è¡Œ try å­å¥ï¼ˆåœ¨å…³é”®å­— try å’Œå…³é”®å­— except ä¹‹é—´çš„è¯­å¥ï¼‰ã€‚
> > - ==å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œå¿½ç•¥ except å­å¥ï¼Œtry å­å¥æ‰§è¡Œåç»“æŸã€‚==
> > - ==å¦‚æœåœ¨æ‰§è¡Œ try å­å¥çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆ try å­å¥ä½™ä¸‹çš„éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚å¦‚æœå¼‚å¸¸çš„ç±»å‹å’Œ except ä¹‹åçš„åç§°ç›¸ç¬¦ï¼Œé‚£ä¹ˆå¯¹åº”çš„ except å­å¥å°†è¢«æ‰§è¡Œã€‚==
> > - ==å¦‚æœä¸€ä¸ªå¼‚å¸¸æ²¡æœ‰ä¸ä»»ä½•çš„ except åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šä¼ é€’ç»™ä¸Šå±‚çš„ try ä¸­ã€‚==
> >
> > ### è¾“å…¥å­—æ¯ `x` çš„æ‰§è¡Œé¡ºåºï¼š
> >
> > 1. **`while True` å¾ªç¯å¼€å§‹**ï¼š
> >    - ä»£ç è¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œå› ä¸º `while True` å§‹ç»ˆä¸º `True`ï¼Œå¾ªç¯ä¸ä¼šè‡ªåŠ¨ç»“æŸã€‚
> > 2. **`input("è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: ")` æ‰§è¡Œ**ï¼š
> >    - ç¨‹åºä¼šç­‰å¾…ç”¨æˆ·è¾“å…¥ã€‚åœ¨è¿™é‡Œï¼Œä½ è¾“å…¥äº†å­—æ¯ `x`ã€‚
> > 3. **`int(input())` è½¬æ¢è¾“å…¥**ï¼š
> >    - `input()` æ¥æ”¶åˆ°è¾“å…¥çš„å­—æ¯ `x` åï¼Œç¨‹åºè¯•å›¾é€šè¿‡ `int()` å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚
> >    - å› ä¸º `x` ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ•´æ•°ï¼Œæ‰€ä»¥ `int()` ä¼šæŠ›å‡ºä¸€ä¸ª `ValueError` å¼‚å¸¸ã€‚
> > 4. **`try` å—ä¸­çš„å¼‚å¸¸è§¦å‘**ï¼š
> >    - ç”±äº `int(x)` å¤±è´¥ï¼Œç¨‹åºè¿›å…¥ `except` å—ï¼Œæ•è· `ValueError`ã€‚
> > 5. **æ‰§è¡Œ `except ValueError` å—**ï¼š
> >    - æ•è·å¼‚å¸¸åï¼Œ`except` å—å†…çš„ä»£ç ä¼šç«‹å³æ‰§è¡Œã€‚
> >    - è¾“å‡º `"æ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼"` è¿™æ¡æ¶ˆæ¯ã€‚
> > 6. **`while` å¾ªç¯ç»§ç»­**ï¼š
> >    - ç”±äºå¾ªç¯æ²¡æœ‰ `break`ï¼Œç¨‹åºè¿”å›åˆ° `while` å¼€å¤´ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œå†æ¬¡è¦æ±‚ç”¨æˆ·è¾“å…¥æ•°å­—ã€‚

==ä¸€ä¸ª try è¯­å¥å¯èƒ½åŒ…å«å¤šä¸ªexceptå­å¥ï¼Œåˆ†åˆ«æ¥å¤„ç†ä¸åŒçš„ç‰¹å®šçš„å¼‚å¸¸ã€‚æœ€å¤šåªæœ‰ä¸€ä¸ªåˆ†æ”¯ä¼šè¢«æ‰§è¡Œã€‚==

å¤„ç†ç¨‹åºå°†åªé’ˆå¯¹å¯¹åº”çš„ try å­å¥ä¸­çš„å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè€Œä¸æ˜¯å…¶ä»–çš„ try çš„å¤„ç†ç¨‹åºä¸­çš„å¼‚å¸¸ã€‚

**ä¸€ä¸ªexceptå­å¥å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸å°†è¢«æ”¾åœ¨ä¸€ä¸ªæ‹¬å·é‡Œæˆä¸ºä¸€ä¸ªå…ƒç»„**ï¼Œä¾‹å¦‚:

```py
except (RuntimeError, TypeError, NameError):
    pass
```

æœ€åä¸€ä¸ªexceptå­å¥å¯ä»¥å¿½ç•¥å¼‚å¸¸çš„åç§°ï¼Œå®ƒå°†è¢«å½“ä½œé€šé…ç¬¦ä½¿ç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ‰“å°ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œç„¶åå†æ¬¡æŠŠå¼‚å¸¸æŠ›å‡ºã€‚

```py
import sys

try:
    f = open('myfile.txt')
    s = f.readline()
    i = int(s.strip())
except OSError as err:
    print("OS error: {0}".format(err))
except ValueError:
    print("Could not convert data to an integer.")
except:
    print("Unexpected error:", sys.exc_info()[0])
    raise
```

### try/except...else

**try/except** è¯­å¥è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„ **else** å­å¥ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªå­å¥ï¼Œé‚£ä¹ˆå¿…é¡»æ”¾åœ¨æ‰€æœ‰çš„ except å­å¥ä¹‹åã€‚

else å­å¥å°†åœ¨ try å­å¥æ²¡æœ‰å‘ç”Ÿä»»ä½•å¼‚å¸¸çš„æ—¶å€™æ‰§è¡Œã€‚

![img](https://www.runoob.com/wp-content/uploads/2019/07/try_except_else.png)

ä»¥ä¸‹å®ä¾‹åœ¨ try è¯­å¥ä¸­åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€ï¼Œå¦‚æœæ‰“å¼€æ–‡ä»¶æ—¶æ­£å¸¸çš„æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸åˆ™æ‰§è¡Œ else éƒ¨åˆ†çš„è¯­å¥ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼š

```py
for arg in sys.argv[1:]:
    try:
        f = open(arg, 'r')
    except IOError:
        print('cannot open', arg)
    else:
        print(arg, 'has', len(f.readlines()), 'lines')
        f.close()
```

ä½¿ç”¨ else å­å¥æ¯”æŠŠæ‰€æœ‰çš„è¯­å¥éƒ½æ”¾åœ¨ try å­å¥é‡Œé¢è¦å¥½ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°ï¼Œè€Œ except åˆæ— æ³•æ•è·çš„å¼‚å¸¸ã€‚

### try-finally è¯­å¥

try-finally è¯­å¥æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½å°†æ‰§è¡Œæœ€åçš„ä»£ç ã€‚

![img](https://www.runoob.com/wp-content/uploads/2019/07/try_except_else_finally.png)

ä»¥ä¸‹å®ä¾‹ä¸­ finally è¯­å¥æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿéƒ½ä¼šæ‰§è¡Œï¼š

```py
try:
    runoob()
except AssertionError as error:
    print(error)
else:
    try:
        with open('file.log') as file:
            read_data = file.read()
    except FileNotFoundError as fnf_error:
        print(fnf_error)
finally:
    print('è¿™å¥è¯ï¼Œæ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿéƒ½ä¼šæ‰§è¡Œã€‚')
```

> ### 1. **`as` å…³é”®å­—**
>
> `as` ä¸»è¦ç”¨äºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š
>
> - åœ¨ `try-except` è¯­å¥ä¸­æ•è·å¼‚å¸¸æ—¶ï¼Œå°†æ•è·åˆ°çš„å¼‚å¸¸å¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¾¿äºåç»­å¤„ç†ã€‚
> - åœ¨ `with` è¯­å¥ä¸­ï¼Œç”¨äºå°†ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„è¿”å›å€¼èµ‹ç»™æŸä¸ªå˜é‡ã€‚
>
> #### åœ¨ `try-except` ä¸­çš„ `as`
>
> åœ¨ `try-except` è¯­å¥ä¸­ï¼Œ`as` ç”¨äºæ•è·å¼‚å¸¸å¹¶å°†å¼‚å¸¸å¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œæ–¹ä¾¿åç»­è®¿é—®æˆ–å¤„ç†ã€‚
>
> ### 2. **`with` å…³é”®å­—**
>
> `with` è¯­å¥ç”¨äºç®€åŒ–èµ„æºç®¡ç†ï¼Œä¾‹å¦‚æ–‡ä»¶çš„æ‰“å¼€å’Œå…³é—­ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚å½“ä½¿ç”¨ `with` è¯­å¥æ—¶ï¼ŒPython ä¼šè‡ªåŠ¨ç®¡ç†ä¸Šä¸‹æ–‡ï¼ˆå¦‚æ–‡ä»¶çš„æ‰“å¼€å’Œå…³é—­ï¼‰ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œ`with` è¯­å¥ç»“æŸæ—¶éƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œã€‚
>
> `with` é€šå¸¸ç”¨åœ¨éœ€è¦ç¡®ä¿æŸäº›èµ„æºåœ¨ä½¿ç”¨å®Œåèƒ½å¤Ÿè¢«è‡ªåŠ¨é‡Šæ”¾çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æ–‡ä»¶æ“ä½œã€çº¿ç¨‹é”å®šç­‰ã€‚å®ƒä¼šè°ƒç”¨å¯¹è±¡çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨åè®®ï¼ˆ`__enter__` å’Œ `__exit__` æ–¹æ³•ï¼‰ï¼Œä»è€Œç®¡ç†èµ„æºçš„ä½¿ç”¨ã€‚
>
> ### `with` çš„å¥½å¤„ï¼š
>
> 1. **ç®€åŒ–ä»£ç **ï¼šä¸éœ€è¦æ˜¾å¼åœ°è°ƒç”¨ `file.close()`ï¼Œ`with` ä¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶ï¼Œå‡å°‘æ‰‹åŠ¨ç®¡ç†èµ„æºçš„éº»çƒ¦ã€‚
> 2. **å®‰å…¨æ€§**ï¼šå³ä½¿åœ¨ä½¿ç”¨æ–‡ä»¶çš„è¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œ`with` è¯­å¥å—ç»“æŸæ—¶ä»ç„¶ä¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚

## 3ã€æŠ›å‡ºå¼‚å¸¸

| **ç‰¹æ€§**         | **`raise` æŠ›å‡ºå¼‚å¸¸**                         | **`try-except` æ•è·å¼‚å¸¸**                  |
| ---------------- | -------------------------------------------- | ------------------------------------------ |
| **ä¸»è¦åŠŸèƒ½**     | ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨ç¤ºä»£ç é‡åˆ°äº†æ— æ³•å¤„ç†çš„æƒ…å†µ   | æ•è·å¼‚å¸¸ï¼Œå¤„ç†å¼‚å¸¸ï¼Œé¿å…ç¨‹åºå´©æºƒ           |
| **æ‰§è¡Œæ—¶æœº**     | å½“ä»£ç æ‰§è¡Œåˆ° `raise` æ—¶ç«‹å³æŠ›å‡ºå¼‚å¸¸          | å½“ä»£ç å—ä¸­å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œè¿›å…¥ `except` å¤„ç†   |
| **æ§åˆ¶æµå½±å“**   | ä¸­æ–­æ­£å¸¸æ‰§è¡Œæµï¼Œå¹¶å°†å¼‚å¸¸æŠ›ç»™ä¸Šå±‚è°ƒç”¨ä»£ç      | å…è®¸ç¨‹åºåœ¨å‘ç”Ÿé”™è¯¯æ—¶ç»§ç»­è¿è¡Œ               |
| **é”™è¯¯å¤„ç†è´£ä»»** | ä»£ç çš„è´£ä»»æ˜¯**å¼•å‘é”™è¯¯**ï¼Œå¹¶å°†å…¶å‘ŠçŸ¥ä¸Šå±‚ä»£ç  | ä»£ç çš„è´£ä»»æ˜¯**å¤„ç†é”™è¯¯**ï¼Œå¹¶åšå‡ºé€‚å½“çš„å“åº” |

Python ==ä½¿ç”¨ raise è¯­å¥æŠ›å‡ºä¸€ä¸ªæŒ‡å®šçš„å¼‚å¸¸==ã€‚`raise` è¯­å¥ç”¨äº**ä¸»åŠ¨**æŠ›å‡ºå¼‚å¸¸ï¼Œé€šå¸¸æ˜¯åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œç¨‹åºé€»è¾‘é‡åˆ°äº†æ— æ³•å¤„ç†çš„é”™è¯¯ã€‚`raise` åç¨‹åºä¼šç«‹å³ä¸­æ–­å½“å‰ä»£ç ï¼Œå¹¶å‘ä¸Šå±‚ä»£ç æŠ¥å‘Šè¯¥å¼‚å¸¸ã€‚å¦‚æœä¸Šå±‚ä»£ç æ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œç¨‹åºå°†å´©æºƒã€‚

==åœ¨ Python ä¸­ï¼Œ`raise` è¯­å¥ç”¨äº**ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸**ã€‚å®ƒå¯ä»¥è®©ç¨‹åºå‘˜åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹æ‰‹åŠ¨è§¦å‘å¼‚å¸¸ï¼Œè€Œä¸æ˜¯ç­‰åˆ° Python è‡ªåŠ¨æ£€æµ‹åˆ°é”™è¯¯ã€‚==

raiseè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```py
raise [Exception [, args [, traceback]]]
```

![img](https://www.runoob.com/wp-content/uploads/2019/07/raise.png)

ä»¥ä¸‹å®ä¾‹å¦‚æœ x å¤§äº 5 å°±è§¦å‘å¼‚å¸¸

```py
x = 10
if x > 5:
    raise Exception('x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}'.format(x))
```

æ‰§è¡Œä»¥ä¸Šä»£ç ä¼šè§¦å‘å¼‚å¸¸ï¼š

```
Traceback (most recent call last):
  File "test.py", line 3, in <module>
    raise Exception('x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}'.format(x))
Exception: x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: 10
```

> åœ¨ Python ä¸­ï¼Œå¼‚å¸¸æ˜¯é€šè¿‡ `raise` å…³é”®å­—æ˜¾å¼æŠ›å‡ºçš„ã€‚==å½“ç¨‹åºé‡åˆ°é—®é¢˜æ—¶ï¼Œå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ `raise` æ¥æ‰‹åŠ¨è§¦å‘å¼‚å¸¸ã€‚==raise å”¯ä¸€çš„ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†è¦è¢«æŠ›å‡ºçš„å¼‚å¸¸ã€‚å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå¼‚å¸¸çš„å®ä¾‹æˆ–è€…æ˜¯å¼‚å¸¸çš„ç±»ï¼ˆä¹Ÿå°±æ˜¯ Exception çš„å­ç±»ï¼‰ã€‚
>
> å¦‚æœä½ åªæƒ³çŸ¥é“è¿™æ˜¯å¦æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶ä¸æƒ³å»å¤„ç†å®ƒï¼Œé‚£ä¹ˆä¸€ä¸ªç®€å•çš„ raise è¯­å¥å°±å¯ä»¥å†æ¬¡æŠŠå®ƒæŠ›å‡ºã€‚
>
> ### `raise` çš„ç”¨é€”ï¼š
>
> 1. **æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸**ï¼šåœ¨ä½ å¸Œæœ›ç¨‹åºåœ¨æŸäº›æƒ…å†µä¸‹ä¸­æ–­å¹¶å¼•å‘ä¸€ä¸ªç‰¹å®šçš„é”™è¯¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `raise`ã€‚
> 2. **é‡æ–°æŠ›å‡ºå¼‚å¸¸**ï¼šåœ¨ `except` è¯­å¥å—ä¸­ï¼Œä½¿ç”¨ `raise` å¯ä»¥å°†æ•è·åˆ°çš„å¼‚å¸¸é‡æ–°æŠ›å‡ºï¼Œè®©ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ä¹Ÿèƒ½å¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚
>
> ![image-20240913155754924](C:/Users/HUAWEI/AppData/Roaming/Typora/typora-user-images/image-20240913155754924.png)
>
> - **`raise NameError('HiThere')`**ï¼šè¿™è¡Œä»£ç æ‰‹åŠ¨è§¦å‘äº†ä¸€ä¸ª `NameError` å¼‚å¸¸ï¼Œé™„å¸¦é”™è¯¯ä¿¡æ¯ `'HiThere'`ã€‚
> - **`except NameError:`**ï¼šæ•è·äº† `NameError` å¼‚å¸¸ï¼Œå¹¶æ‰§è¡Œ `except` å—ä¸­çš„ä»£ç ã€‚
> - **`print('An exception flew by!')`**ï¼šæ‰“å° "An exception flew by!"ã€‚
> - **`raise`**ï¼šåœ¨ `except` å—ä¸­å†æ¬¡æŠ›å‡ºæ•è·çš„å¼‚å¸¸ï¼Œè¿™æ„å‘³ç€å¼‚å¸¸ä¼šç»§ç»­å¾€ä¸Šä¼ æ’­ï¼Œè€Œä¸ä¼šåœ¨æ­¤ç»ˆæ­¢å¤„ç†ã€‚
>
> ### ä¸¾ä¾‹è¯´æ˜ï¼š
>
> ä½ å¯ä»¥æƒ³è±¡ `raise` çš„ä½¿ç”¨åƒè¿™æ ·ï¼š
>
> 1. å‡è®¾ä½ åœ¨æŸä¸ªåœ°æ–¹æ£€æµ‹åˆ°ç¨‹åºä¸­å‡ºç°äº†ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µã€‚
> 2. ä½ ä¸å¸Œæœ›ç¨‹åºç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œäºæ˜¯ä½ ä¸»åŠ¨ä½¿ç”¨ `raise` æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚
> 3. ç¨‹åºå¯ä»¥é€šè¿‡ `try-except` æœºåˆ¶æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œå¹¶æ‰§è¡Œä¸€äº›å¤„ç†é€»è¾‘ã€‚
> 4. å¦‚æœéœ€è¦å°†å¼‚å¸¸å†ä¼ æ’­ç»™æ›´é«˜å±‚çš„ä»£ç å¤„ç†ï¼ˆè€Œä¸æ˜¯åœ¨å½“å‰å±‚å®Œå…¨å¤„ç†ï¼‰ï¼Œå¯ä»¥åœ¨ `except` å—ä¸­ä½¿ç”¨ `raise` é‡æ–°æŠ›å‡ºå¼‚å¸¸ã€‚

**ç»¼åˆä½¿ç”¨**

```py
def process_input(value):
    if not isinstance(value, int):
        raise TypeError("è¾“å…¥å¿…é¡»æ˜¯æ•´æ•°")  # å‡½æ•°å†…éƒ¨æ£€æµ‹é”™è¯¯å¹¶æŠ›å‡ºå¼‚å¸¸
    return value * 2

try:
    result = process_input("abc")  # è°ƒç”¨å‡½æ•°ï¼Œæ•è·å¯èƒ½çš„å¼‚å¸¸
except TypeError as e:
    print("å¤„ç†å¼‚å¸¸:", e)
else:
    print("ç»“æœæ˜¯:", result)
```

## 4ã€ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸

## 5ã€å®šä¹‰æ¸…ç†è¡Œä¸º

try è¯­å¥è¿˜æœ‰å¦å¤–ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œå®ƒå®šä¹‰äº†æ— è®ºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šæ‰§è¡Œçš„æ¸…ç†è¡Œä¸ºã€‚ 

```py
>>> try:
...     raise KeyboardInterrupt
... finally:
...     print('Goodbye, world!')
... 
Goodbye, world!
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
KeyboardInterrupt
```

> ä»¥ä¸Šä¾‹å­**ä¸ç®¡ try å­å¥é‡Œé¢æœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œfinally å­å¥éƒ½ä¼šæ‰§è¡Œã€‚**
>
> ==å¦‚æœä¸€ä¸ªå¼‚å¸¸åœ¨ try å­å¥é‡Œï¼ˆæˆ–è€…åœ¨ except å’Œ else å­å¥é‡Œï¼‰è¢«æŠ›å‡ºï¼Œè€Œåˆæ²¡æœ‰ä»»ä½•çš„ except æŠŠå®ƒæˆªä½ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸ä¼šåœ¨ finally å­å¥æ‰§è¡Œåè¢«æŠ›å‡ºã€‚==
>
> ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ï¼ˆåœ¨åŒä¸€ä¸ª try è¯­å¥é‡ŒåŒ…å« except å’Œ finally å­å¥ï¼‰:
>
> ```py
> >>> def divide(x, y):
>         try:
>             result = x / y
>         except ZeroDivisionError:
>             print("division by zero!")
>         else:
>             print("result is", result)
>         finally:
>             print("executing finally clause")
>    
> >>> divide(2, 1)
> result is 2.0
> executing finally clause
> >>> divide(2, 0)
> division by zero!
> executing finally clause
> 
> >>> divide("2", "1")
> executing finally clause
> Traceback (most recent call last):
>   File "<stdin>", line 1, in ?
>   File "<stdin>", line 3, in divide
> TypeError: unsupported operand type(s) for /: 'str' and 'str'
> ```
>
> ### ç¬¬ä¸‰æ¬¡è°ƒç”¨ï¼š`divide("2", "1")`
>
> #### 1. **å‡½æ•°è°ƒç”¨**ï¼š
>
> - è°ƒç”¨ `divide("2", "1")`ï¼Œå³ `x = "2"` å’Œ `y = "1"`ï¼Œä¼ é€’çš„æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè€Œä¸æ˜¯æ•°å€¼ã€‚
>
> #### 2. **è¿›å…¥ `try` å—**ï¼š
>
> - è¿›å…¥ `try` å—ï¼Œç¨‹åºå°è¯•æ‰§è¡Œ `result = x / y`ã€‚
> - Python è¯•å›¾å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸² `"2"` å’Œ `"1"` æ‰§è¡Œé™¤æ³•è¿ç®—ï¼ˆ`/`ï¼‰ã€‚
>
> #### 3. **å‘ç”Ÿå¼‚å¸¸**ï¼š
>
> - ç”±äºé™¤æ³• `/` è¿ç®—åªé€‚ç”¨äºæ•°å€¼ç±»å‹ï¼ˆå¦‚æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼ŒPython ç«‹å³æŠ›å‡ºäº† `TypeError` å¼‚å¸¸ã€‚è¿™ä¸ªå¼‚å¸¸è¡¨æ˜æ“ä½œæ•°çš„ç±»å‹ä¸æ”¯æŒè¿™ä¸ªè¿ç®—ã€‚
> - å¼‚å¸¸æ¶ˆæ¯ä¸ºï¼š`unsupported operand type(s) for /: 'str' and 'str'`ï¼Œæ„æ€æ˜¯ï¼šä¸èƒ½å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å€¼è¿›è¡Œé™¤æ³•æ“ä½œã€‚
>
> #### 4. **è·³è¿‡ `except` å—**ï¼š
>
> - æ­¤æ—¶æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ `TypeError`ï¼Œè€Œ `except` å—åªæ•è· `ZeroDivisionError`ï¼Œæ‰€ä»¥ `except` å—ä¸ä¼šæ‰§è¡Œï¼Œç¨‹åºè·³è¿‡å®ƒã€‚
>
> #### 5. **æ‰§è¡Œ `finally` å—**ï¼š
>
> - æ— è®ºå¼‚å¸¸ç±»å‹æ˜¯å¦è¢«æ•è·ï¼Œ`finally` å—å§‹ç»ˆä¼šæ‰§è¡Œï¼Œå› æ­¤ç¨‹åºæ‰“å°äº† `"executing finally clause"`ã€‚
>
> #### 6. **å¼‚å¸¸æœªå¤„ç†ï¼Œç¨‹åºç»ˆæ­¢**ï¼š
>
> - ç”±äº `TypeError` å¼‚å¸¸æœªè¢«æ•è·ï¼Œç¨‹åºä¼šç»§ç»­å‘å¤–æŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ï¼Œå¯¼è‡´å‡½æ•°æ‰§è¡Œå®Œ `finally` å—åï¼Œç¨‹åºç»ˆæ­¢å¹¶è¾“å‡ºå®Œæ•´çš„é”™è¯¯è¿½è¸ªä¿¡æ¯ï¼ˆTracebackï¼‰ã€‚
>
> ### è¯¦ç»†æµç¨‹ï¼š
>
> 1. è°ƒç”¨ `divide("2", "1")`ã€‚
> 2. è¿›å…¥ `try` å—ï¼Œå°è¯•æ‰§è¡Œ `result = x / y`ã€‚
> 3. é‡åˆ° `TypeError`ï¼Œå› ä¸ºä¸èƒ½å¯¹å­—ç¬¦ä¸²è¿›è¡Œé™¤æ³•è¿ç®—ã€‚
> 4. è·³è¿‡ `except ZeroDivisionError`ï¼Œå› ä¸ºå¼‚å¸¸ç±»å‹ä¸åŒ¹é…ã€‚
> 5. æ‰§è¡Œ `finally` å—ï¼Œæ‰“å° `"executing finally clause"`ã€‚
> 6. æŠ›å‡º `TypeError`ï¼Œç¨‹åºç»ˆæ­¢å¹¶æ˜¾ç¤ºå¼‚å¸¸è¿½è¸ªä¿¡æ¯ã€‚

## 6ã€é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸º

ä¸€äº›å¯¹è±¡å®šä¹‰äº†æ ‡å‡†çš„æ¸…ç†è¡Œä¸ºï¼Œæ— è®ºç³»ç»Ÿæ˜¯å¦æˆåŠŸçš„ä½¿ç”¨äº†å®ƒï¼Œä¸€æ—¦ä¸éœ€è¦å®ƒäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ‡å‡†çš„æ¸…ç†è¡Œä¸ºå°±ä¼šæ‰§è¡Œã€‚

å…³é”®è¯ with è¯­å¥å°±å¯ä»¥ä¿è¯è¯¸å¦‚æ–‡ä»¶ä¹‹ç±»çš„å¯¹è±¡åœ¨ä½¿ç”¨å®Œä¹‹åä¸€å®šä¼šæ­£ç¡®çš„æ‰§è¡Œä»–çš„æ¸…ç†æ–¹æ³•:

```py
with open("myfile.txt") as f:
    for line in f:
        print(line, end="")
```

ä»¥ä¸Šè¿™æ®µä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå°±ç®—åœ¨å¤„ç†è¿‡ç¨‹ä¸­å‡ºé—®é¢˜äº†ï¼Œæ–‡ä»¶ f æ€»æ˜¯ä¼šå…³é—­ã€‚

# äºŒã€é¢å‘å¯¹è±¡

## 1ã€é¢å‘å¯¹è±¡æŠ€æœ¯ç®€ä»‹ğŸ¦„

- **ç±»(Class):** ç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚==å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚==
- **æ–¹æ³•ï¼š**ç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚



- **ç±»å˜é‡ï¼š**ç±»å˜é‡åœ¨æ•´ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ä¸­æ˜¯å…¬ç”¨çš„ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ä¸”åœ¨å‡½æ•°ä½“ä¹‹å¤–ã€‚ç±»å˜é‡é€šå¸¸ä¸ä½œä¸ºå®ä¾‹å˜é‡ä½¿ç”¨ã€‚
- **å±€éƒ¨å˜é‡ï¼š**å®šä¹‰åœ¨æ–¹æ³•ä¸­çš„å˜é‡ï¼Œåªä½œç”¨äºå½“å‰å®ä¾‹çš„ç±»ã€‚
- **å®ä¾‹å˜é‡ï¼š**åœ¨ç±»çš„å£°æ˜ä¸­ï¼Œå±æ€§æ˜¯ç”¨å˜é‡æ¥è¡¨ç¤ºçš„ï¼Œè¿™ç§å˜é‡å°±ç§°ä¸ºå®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡å°±æ˜¯ä¸€ä¸ªç”¨ self ä¿®é¥°çš„å˜é‡ã€‚



- **æ–¹æ³•é‡å†™ï¼š**å¦‚æœä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•çš„è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œä¹Ÿç§°ä¸ºæ–¹æ³•çš„é‡å†™ã€‚
- **ç»§æ‰¿ï¼š**å³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚ä¾‹å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªè®¾è®¡ï¼šä¸€ä¸ªDogç±»å‹çš„å¯¹è±¡æ´¾ç”Ÿè‡ªAnimalç±»ï¼Œè¿™æ˜¯æ¨¡æ‹Ÿ"æ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰"å…³ç³»ï¼ˆä¾‹å›¾ï¼ŒDogæ˜¯ä¸€ä¸ªAnimalï¼‰ã€‚



- **å®ä¾‹åŒ–ï¼š**åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚
- **å¯¹è±¡ï¼š**é€šè¿‡ç±»å®šä¹‰çš„æ•°æ®ç»“æ„å®ä¾‹ã€‚å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼ˆç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼‰å’Œæ–¹æ³•ã€‚
- **æ•°æ®æˆå‘˜ï¼š**ç±»å˜é‡æˆ–è€…å®ä¾‹å˜é‡ç”¨äºå¤„ç†ç±»åŠå…¶å®ä¾‹å¯¹è±¡çš„ç›¸å…³çš„æ•°æ®ã€‚

> ç±»å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«å¯ä»¥ä»å®ƒä»¬çš„å®šä¹‰ã€ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸç­‰æ–¹é¢æ¥çœ‹ã€‚å¯¹è±¡å’Œå®ä¾‹çš„æ¦‚å¿µå®é™…ä¸Šæ˜¯ç›¸åŒçš„ï¼Œä¸‹é¢æˆ‘ä¼šè¯¦ç»†è§£é‡Šã€‚
>
> ------
>
> 
>
> ## 							 ==**ç±»å˜é‡ä¸å®ä¾‹å˜é‡åŒºåˆ«**==
>
> | **å¯¹æ¯”ç»´åº¦** | **ç±»å˜é‡**                                           | **å®ä¾‹å˜é‡**                                               |
> | :----------- | :--------------------------------------------------- | :--------------------------------------------------------- |
> | **å®šä¹‰ä½ç½®** | ==å®šä¹‰åœ¨ç±»çš„å†…éƒ¨ï¼Œä½†åœ¨æ‰€æœ‰æ–¹æ³•ä¹‹å¤–==                 | å®šä¹‰åœ¨ç±»çš„æ„é€ æ–¹æ³•ï¼ˆå¦‚ `__init__`ï¼‰ä¸­                      |
> | **ä½œç”¨èŒƒå›´** | ==å±äºæ•´ä¸ªç±»ï¼Œæ‰€æœ‰è¯¥ç±»çš„å®ä¾‹å…±äº«åŒä¸€ä¸ªç±»å˜é‡==       | ==å±äºç±»çš„æ¯ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å®ä¾‹å˜é‡==       |
> | **è®¿é—®æ–¹å¼** | å¯ä»¥é€šè¿‡ç±»åæˆ–å®ä¾‹å¯¹è±¡è®¿é—®ï¼ˆä½†æœ€å¥½é€šè¿‡ç±»åè®¿é—®ï¼‰     | ==åªèƒ½é€šè¿‡å®ä¾‹å¯¹è±¡è®¿é—®==                                   |
> | **å­˜å‚¨ä½ç½®** | å­˜å‚¨åœ¨ç±»çš„å‘½åç©ºé—´ä¸­ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«                   | å­˜å‚¨åœ¨æ¯ä¸ªå®ä¾‹çš„å‘½åç©ºé—´ä¸­ï¼Œæ¯ä¸ªå®ä¾‹ç‹¬ç«‹                   |
> | **ç”Ÿå‘½å‘¨æœŸ** | éšç±»çš„ç”Ÿå‘½å‘¨æœŸè€Œå­˜åœ¨ï¼Œç±»è¢«åŠ è½½æ—¶åˆ›å»ºï¼Œç±»è¢«å¸è½½æ—¶é”€æ¯ | éšå®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸè€Œå­˜åœ¨ï¼Œå®ä¾‹è¢«åˆ›å»ºæ—¶åˆ›å»ºï¼Œå®ä¾‹è¢«é”€æ¯æ—¶é”€æ¯ |
>
> #### ä»£ç ç¤ºä¾‹
>
> ```python
> class MyClass:
>     # ç±»å˜é‡
>     class_var = 0
> 
>     def __init__(self, value):
>         # å®ä¾‹å˜é‡
>         self.instance_var = value
> 
> # åˆ›å»ºä¸¤ä¸ªå®ä¾‹
> obj1 = MyClass(10)
> obj2 = MyClass(20)
> 
> # è®¿é—®ç±»å˜é‡å’Œå®ä¾‹å˜é‡
> print(obj1.class_var)  # è®¿é—®ç±»å˜é‡ï¼Œè¾“å‡º 0
> print(obj1.instance_var)  # è®¿é—®å®ä¾‹å˜é‡ï¼Œè¾“å‡º 10
> print(obj2.instance_var)  # è®¿é—®å®ä¾‹å˜é‡ï¼Œè¾“å‡º 20
> 
> # ä¿®æ”¹ç±»å˜é‡
> MyClass.class_var = 5
> print(obj1.class_var)  # ç±»å˜é‡ä¿®æ”¹åï¼Œè¾“å‡º 5ï¼ˆå…±äº«ç±»å˜é‡ï¼‰
> print(obj2.class_var)  # ç±»å˜é‡ä¿®æ”¹åï¼Œè¾“å‡º 5
> 
> # ä¿®æ”¹å®ä¾‹å˜é‡
> obj1.instance_var = 100
> print(obj1.instance_var)  # å®ä¾‹å˜é‡ä¿®æ”¹åï¼Œè¾“å‡º 100
> print(obj2.instance_var)  # obj2 å®ä¾‹å˜é‡æœªå—å½±å“ï¼Œè¾“å‡º 20
> ```
>
> ### å…³é”®ç‚¹ï¼š
> 1. **ç±»å˜é‡**ï¼šå±äºç±»æœ¬èº«ï¼Œæ‰€æœ‰è¯¥ç±»çš„å®ä¾‹å…±äº«åŒä¸€ä¸ªç±»å˜é‡ã€‚ä¿®æ”¹ç±»å˜é‡ä¼šå½±å“æ‰€æœ‰çš„å®ä¾‹ã€‚
> 2. **å®ä¾‹å˜é‡**ï¼šå±äºå…·ä½“çš„å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å®ä¾‹å˜é‡ã€‚ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„å®ä¾‹å˜é‡ä¸ä¼šå½±å“å…¶ä»–å®ä¾‹ã€‚
>
> ------
>
> 
>
> ## 								 **==å¯¹è±¡å°±æ˜¯å®ä¾‹å—ï¼Ÿ==**
>
> æ˜¯çš„ï¼Œ**å¯¹è±¡** å’Œ **å®ä¾‹** æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè¯´æ³•ã€‚å¯¹è±¡æ˜¯ç”±ç±»ç”Ÿæˆçš„å…·ä½“â€œå®ä¾‹åŒ–â€ç»“æœï¼Œè€Œå®ä¾‹æ˜¯ç±»çš„ä¸€ä¸ªå…·ä½“è¡¨ç°å½¢å¼ã€‚
>
> - **ç±»**ï¼šæ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå®šä¹‰äº†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºã€‚
> - **å¯¹è±¡/å®ä¾‹**ï¼šæ˜¯æ ¹æ®ç±»åˆ›å»ºçš„å…·ä½“äº‹ç‰©ã€‚
>
> ä¾‹å¦‚ï¼š
> ```python
> class Dog:
>     def __init__(self, name):
>         self.name = name
> 
> dog1 = Dog("Rex")  # dog1 æ˜¯ Dog ç±»çš„ä¸€ä¸ªå®ä¾‹
> dog2 = Dog("Buddy")  # dog2 æ˜¯ Dog ç±»çš„å¦ä¸€ä¸ªå®ä¾‹
> ```
>
> åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`dog1` å’Œ `dog2` éƒ½æ˜¯ `Dog` ç±»çš„**å¯¹è±¡**ï¼Œä¹Ÿæ˜¯è¯¥ç±»çš„**å®ä¾‹**ã€‚
>
> ------
>
> 

## 2ã€ç±»å®šä¹‰

è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```py
class ClassName:
    <statement-1>
    .
    .
    .
    <statement-N>
```

ç±»å®ä¾‹åŒ–åï¼Œå¯ä»¥ä½¿ç”¨å…¶å±æ€§ï¼Œå®é™…ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªç±»ä¹‹åï¼Œå¯ä»¥é€šè¿‡ç±»åè®¿é—®å…¶å±æ€§ã€‚

## 3ã€ç±»å¯¹è±¡ğŸ¦„

ç±»å¯¹è±¡æ”¯æŒä¸¤ç§æ“ä½œï¼šå±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–ã€‚

å±æ€§å¼•ç”¨ä½¿ç”¨å’Œ Python ä¸­æ‰€æœ‰çš„å±æ€§å¼•ç”¨ä¸€æ ·çš„æ ‡å‡†è¯­æ³•ï¼š**obj.name**ã€‚

ç±»å¯¹è±¡åˆ›å»ºåï¼Œç±»å‘½åç©ºé—´ä¸­æ‰€æœ‰çš„å‘½åéƒ½æ˜¯æœ‰æ•ˆå±æ€§åã€‚æ‰€ä»¥å¦‚æœç±»å®šä¹‰æ˜¯è¿™æ ·:

> **å®ä¾‹æ–¹æ³•** å’Œ **æ„é€ å™¨ï¼ˆ`__init__`ï¼‰** éƒ½å¿…é¡»æœ‰ `self` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºå¼•ç”¨å®ä¾‹æœ¬èº«ã€‚
>
> **ç±»æ–¹æ³•** ç”¨ `cls` ä»£æ›¿ `self`ï¼Œç”¨äºå¼•ç”¨ç±»æœ¬èº«ã€‚
>
> **é™æ€æ–¹æ³•** ä¸éœ€è¦ `self` æˆ– `cls`ï¼Œå› ä¸ºå®ƒä»¬æ—¢ä¸ä¾èµ–å®ä¾‹ä¹Ÿä¸ä¾èµ–ç±»ã€‚

```py
#!/usr/bin/python3
 
class MyClass:
    """ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹"""
    i = 12345
    def f(self):
        return 'hello world'
 
# å®ä¾‹åŒ–ç±»
x = MyClass()
 
# è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•
print("MyClass ç±»çš„å±æ€§ i ä¸ºï¼š", x.i)
print("MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š", x.f())      #å®ä¾‹æ–¹æ³•

'''
MyClass ç±»çš„å±æ€§ i ä¸ºï¼š 12345
MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š hello world
'''
```

### `__init__()`æ„é€ æ–¹æ³•

ç±»æœ‰ä¸€ä¸ªåä¸º `__init__()` çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆ**æ„é€ æ–¹æ³•**ï¼‰ï¼Œè¯¥æ–¹æ³•åœ¨ç±»å®ä¾‹åŒ–æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š

```py
def __init__(self):    self.data = []
```

ç±»å®šä¹‰äº† `__init__()` æ–¹æ³•ï¼Œç±»çš„å®ä¾‹åŒ–æ“ä½œä¼šè‡ªåŠ¨è°ƒç”¨`__init__()`æ–¹æ³•ã€‚å¦‚ä¸‹å®ä¾‹åŒ–ç±» MyClassï¼Œå¯¹åº”çš„ `__init__()` æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨:

```
x = MyClass()
```

å½“ç„¶ï¼Œ`__init__()`æ–¹æ³•å¯ä»¥æœ‰å‚æ•°ï¼Œå‚æ•°é€šè¿‡ `__init__()`ä¼ é€’åˆ°ç±»çš„å®ä¾‹åŒ–æ“ä½œä¸Šã€‚ä¾‹å¦‚:

```py
#!/usr/bin/python3
 
class Complex:
    def __init__(self, realpart, imagpart):
        self.r = realpart
        self.i = imagpart
x = Complex(3.0, -4.5)
print(x.r, x.i)   # è¾“å‡ºç»“æœï¼š3.0 -4.5
```

### å®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•

> ------
>
> ## 					==**å®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•**==
>
> åœ¨ Python çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæ–¹æ³•æ˜¯å®šä¹‰åœ¨ç±»ä¸­çš„å‡½æ•°ï¼Œç”¨äºæè¿°å¯¹è±¡æˆ–ç±»æœ¬èº«çš„è¡Œä¸ºã€‚æ ¹æ®å…¶ç»‘å®šå¯¹è±¡å’Œä½¿ç”¨æ–¹å¼ï¼Œæ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼šå®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚
>
> ---
>
> ### ==æ€»è§ˆ==
>
> | **æ–¹æ³•ç±»å‹** | **è£…é¥°å™¨**      | **ç¬¬ä¸€ä¸ªå‚æ•°** | **ç»‘å®šå¯¹è±¡** | **ç”¨é€”**                                           |
> | ------------ | --------------- | -------------- | ------------ | -------------------------------------------------- |
> | **å®ä¾‹æ–¹æ³•** | æ—               | `self`         | ç»‘å®šåˆ°å®ä¾‹   | è®¿é—®æˆ–ä¿®æ”¹å®ä¾‹å˜é‡ï¼Œå®šä¹‰å¯¹è±¡çš„è¡Œä¸º                 |
> | **ç±»æ–¹æ³•**   | `@classmethod`  | `cls`          | ç»‘å®šåˆ°ç±»     | è®¿é—®æˆ–ä¿®æ”¹ç±»å˜é‡ï¼Œå®šä¹‰ç±»çº§åˆ«çš„è¡Œä¸º                 |
> | **é™æ€æ–¹æ³•** | `@staticmethod` | æ—              | ä¸ç»‘å®š       | é€šå¸¸ä½œä¸ºå·¥å…·å‡½æ•°ï¼Œä¸ç±»æœ‰é€»è¾‘å…³è”ï¼Œä½†ä¸ä¾èµ–ç±»æˆ–å®ä¾‹ |
>
> ---
>
> ### 1. **å®ä¾‹æ–¹æ³•**
>
> - **å®šä¹‰**ï¼šç”¨äºæ“ä½œå®ä¾‹å˜é‡çš„æ–¹æ³•ï¼Œå¯ä»¥è®¿é—®æˆ–ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚
> - **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼š==`self`ï¼Œè¡¨ç¤ºå®ä¾‹å¯¹è±¡æœ¬èº«ã€‚==
> - **ç‰¹ç‚¹**ï¼š
>   - ==åªèƒ½é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨ã€‚==
>   - ==å¯ä»¥è®¿é—®å’Œä¿®æ”¹å®ä¾‹å˜é‡å’Œç±»å˜é‡ã€‚==
>
> **ç¤ºä¾‹**ï¼š
>
> ```python
> class MyClass:
>     def __init__(self, value):
>         self.value = value  # å®ä¾‹å˜é‡
> 
>     def instance_method(self):
>         print(f'å®ä¾‹æ–¹æ³•è¢«è°ƒç”¨ï¼Œå€¼ä¸º {self.value}')
>         self.value += 1
> ```
>
> **ä½¿ç”¨**ï¼š
>
> ```python
> obj = MyClass(10)
> obj.instance_method()  # è¾“å‡ºï¼šå®ä¾‹æ–¹æ³•è¢«è°ƒç”¨ï¼Œå€¼ä¸º 10
> print(obj.value)       # è¾“å‡ºï¼š11
> ```
>
> ---
>
> ### 2. **ç±»æ–¹æ³•**
>
> - **å®šä¹‰**ï¼šä½œç”¨äºç±»æœ¬èº«çš„æ–¹æ³•ï¼Œå¯ä»¥è®¿é—®æˆ–ä¿®æ”¹ç±»çŠ¶æ€ã€‚
> - **è£…é¥°å™¨**ï¼š`@classmethod`
> - **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼š==`cls`ï¼Œè¡¨ç¤ºç±»æœ¬èº«ã€‚==
> - **ç‰¹ç‚¹**ï¼š
>   - ==å¯ä»¥é€šè¿‡ç±»æˆ–å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼Œä½†é€šå¸¸é€šè¿‡ç±»è°ƒç”¨ã€‚==
>   - ==åªèƒ½è®¿é—®å’Œä¿®æ”¹ç±»å˜é‡==ï¼Œ==ä¸èƒ½ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ã€‚==
>
> **ç¤ºä¾‹**ï¼š
>
> ```python
> class MyClass:
>     class_var = 0  # ç±»å˜é‡
> 
>     @classmethod
>     def class_method(cls):
>         print(f'ç±»æ–¹æ³•è¢«è°ƒç”¨ï¼Œç±»å˜é‡å€¼ä¸º {cls.class_var}')
>         cls.class_var += 1
> ```
>
> **ä½¿ç”¨**ï¼š
>
> ```python
> MyClass.class_method()  # è¾“å‡ºï¼šç±»æ–¹æ³•è¢«è°ƒç”¨ï¼Œç±»å˜é‡å€¼ä¸º 0
> print(MyClass.class_var)  # è¾“å‡ºï¼š1
> ```
>
> ---
>
> ### 3. **é™æ€æ–¹æ³•**
>
> - **å®šä¹‰**ï¼šä¸ä¾èµ–ç±»æˆ–å®ä¾‹çš„çŠ¶æ€çš„æ–¹æ³•ï¼Œé€šå¸¸ä½œä¸ºå·¥å…·å‡½æ•°ã€‚
> - **è£…é¥°å™¨**ï¼š`@staticmethod`
> - **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼šæ— 
> - **ç‰¹ç‚¹**ï¼š
>   - ==å¯ä»¥é€šè¿‡ç±»æˆ–å®ä¾‹å¯¹è±¡è°ƒç”¨ã€‚==
>   - ==ä¸èƒ½è®¿é—®æˆ–ä¿®æ”¹ç±»å˜é‡å’Œå®ä¾‹å˜é‡ã€‚==
>
> **ç¤ºä¾‹**ï¼š
>
> ```python
> class MyClass:
>     @staticmethod
>     def static_method(x, y):
>         print(f'é™æ€æ–¹æ³•è¢«è°ƒç”¨ï¼Œå‚æ•°ä¸º {x} å’Œ {y}')
>         return x + y
> ```
>
> **ä½¿ç”¨**ï¼š
>
> ```python
> result = MyClass.static_method(5, 7)  # è¾“å‡ºï¼šé™æ€æ–¹æ³•è¢«è°ƒç”¨ï¼Œå‚æ•°ä¸º 5 å’Œ 7
> print(result)  # è¾“å‡ºï¼š12
> ```
>
> ---
>
> ### **è¯¦ç»†åŒºåˆ«**
>
> #### 1. **ç»‘å®šå¯¹è±¡**
>
> - **å®ä¾‹æ–¹æ³•**ï¼šç»‘å®šåˆ°å®ä¾‹ï¼Œ`self` ä»£è¡¨å®ä¾‹æœ¬èº«ã€‚
> - **ç±»æ–¹æ³•**ï¼šç»‘å®šåˆ°ç±»ï¼Œ`cls` ä»£è¡¨ç±»æœ¬èº«ã€‚
> - **é™æ€æ–¹æ³•**ï¼šä¸ç»‘å®šåˆ°ç±»æˆ–å®ä¾‹ï¼Œæ²¡æœ‰é»˜è®¤å‚æ•°ã€‚
>
> #### 2. **è®¿é—®æƒé™**
>
> - **å®ä¾‹æ–¹æ³•**ï¼šå¯ä»¥è®¿é—®å’Œä¿®æ”¹å®ä¾‹å˜é‡å’Œç±»å˜é‡ã€‚
> - **ç±»æ–¹æ³•**ï¼šåªèƒ½è®¿é—®å’Œä¿®æ”¹ç±»å˜é‡ï¼Œæ— æ³•ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ã€‚
> - **é™æ€æ–¹æ³•**ï¼šæ— æ³•è®¿é—®ç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼Œé™¤éæ˜¾å¼ä¼ å…¥ã€‚
>
> #### 3. **è°ƒç”¨æ–¹å¼**
>
> - **å®ä¾‹æ–¹æ³•**ï¼šåªèƒ½é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼Œå¦‚ `obj.method()`ã€‚
> - **ç±»æ–¹æ³•**ï¼šé€šå¸¸é€šè¿‡ç±»åè°ƒç”¨ï¼Œå¦‚ `Class.method()`ã€‚
> - **é™æ€æ–¹æ³•**ï¼šå¯ä»¥é€šè¿‡ç±»åæˆ–å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼Œå¦‚ `Class.method()` æˆ– `obj.method()`ã€‚
>
> ---
>
> ### **ç»¼åˆç¤ºä¾‹**
>
> ```python
> class Circle:
>     pi = 3.1416  # ç±»å˜é‡
> 
>     def __init__(self, radius):
>         self.radius = radius  # å®ä¾‹å˜é‡
> 
>     def area(self):
>         """å®ä¾‹æ–¹æ³•ï¼Œè®¡ç®—åœ†çš„é¢ç§¯"""
>         return self.pi * (self.radius ** 2)
> 
>     @classmethod
>     def set_pi(cls, value):
>         """ç±»æ–¹æ³•ï¼Œä¿®æ”¹ç±»å˜é‡ pi çš„å€¼"""
>         cls.pi = value
> 
>     @staticmethod
>     def describe():
>         """é™æ€æ–¹æ³•ï¼Œæè¿°åœ†å½¢"""
>         print("åœ†æ˜¯æ‰€æœ‰ç‚¹åˆ°ä¸­å¿ƒè·ç¦»ç›¸ç­‰çš„å¹³é¢å›¾å½¢")
> ```
>
> **ä½¿ç”¨**ï¼š
>
> ```python
> # åˆ›å»ºå®ä¾‹å¯¹è±¡
> circle1 = Circle(5)
> 
> # è°ƒç”¨å®ä¾‹æ–¹æ³•
> print(circle1.area())  # è¾“å‡ºï¼š78.53999999999999
> 
> # è°ƒç”¨ç±»æ–¹æ³•ä¿®æ”¹ç±»å˜é‡
> Circle.set_pi(3.14)
> print(circle1.area())  # è¾“å‡ºï¼š78.5
> 
> # è°ƒç”¨é™æ€æ–¹æ³•
> Circle.describe()  # è¾“å‡ºï¼šåœ†æ˜¯æ‰€æœ‰ç‚¹åˆ°ä¸­å¿ƒè·ç¦»ç›¸ç­‰çš„å¹³é¢å›¾å½¢
> ```
>
> ---
>
> ### **é€‚ç”¨åœºæ™¯**
>
> - **å®ä¾‹æ–¹æ³•**ï¼šå½“éœ€è¦è®¿é—®æˆ–ä¿®æ”¹å®ä¾‹çš„å±æ€§æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚
> - **ç±»æ–¹æ³•**ï¼šå½“éœ€è¦è®¿é—®æˆ–ä¿®æ”¹ç±»çš„å±æ€§ï¼Œæˆ–è€…éœ€è¦ä»ç±»çº§åˆ«æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚åˆ›å»ºå·¥å‚æ–¹æ³•ã€‚
> - **é™æ€æ–¹æ³•**ï¼šå½“æ–¹æ³•ä¸ç±»æœ‰é€»è¾‘å…³è”ï¼Œä½†ä¸éœ€è¦è®¿é—®ç±»æˆ–å®ä¾‹çš„å±æ€§æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚å·¥å…·å‡½æ•°ã€‚
>
> ---
>
> ### **æ€»ç»“**
>
> - **å®ä¾‹æ–¹æ³•**ä½¿ç”¨ `self` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå®šä¹‰å¯¹è±¡çš„è¡Œä¸ºï¼Œå¯è®¿é—®å®ä¾‹å’Œç±»å˜é‡ã€‚
> - **ç±»æ–¹æ³•**ä½¿ç”¨ `@classmethod` è£…é¥°ï¼Œ`cls` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå®šä¹‰ç±»çš„è¡Œä¸ºï¼Œå¯è®¿é—®å’Œä¿®æ”¹ç±»å˜é‡ã€‚
> - **é™æ€æ–¹æ³•**ä½¿ç”¨ `@staticmethod` è£…é¥°ï¼Œæ²¡æœ‰é»˜è®¤å‚æ•°ï¼Œé€šå¸¸ä½œä¸ºå·¥å…·å‡½æ•°ã€‚
>
> ---
>
> ## 									**==åˆ›å»ºå·¥å‚==**
>
> ```py
> class Shape:
>     def draw(self):
>         raise NotImplementedError("Subclass must implement abstract method")
> 
> class Circle(Shape):
>     def draw(self):
>         print("Drawing a Circle")
> 
> class Square(Shape):
>     def draw(self):
>         print("Drawing a Square")
> 
> class ShapeFactory:
>     @classmethod
>     def create_shape(cls, shape_type):
>         """å·¥å‚æ–¹æ³•ï¼Œæ ¹æ®ç±»å‹è¿”å›ä¸åŒçš„å¯¹è±¡"""
>         if shape_type == 'circle':
>             return Circle()
>         elif shape_type == 'square':
>             return Square()
>         else:
>             raise ValueError(f"Unknown shape type: {shape_type}")
> 
> # ä½¿ç”¨å·¥å‚æ–¹æ³•åˆ›å»ºå¯¹è±¡
> shape1 = ShapeFactory.create_shape('circle')
> shape1.draw()  # è¾“å‡ºï¼šDrawing a Circle
> 
> shape2 = ShapeFactory.create_shape('square')
> shape2.draw()  # è¾“å‡ºï¼šDrawing a Square
> ```
>
> ### **åˆ†æ**
>
> - `ShapeFactory` ç±»çš„ `create_shape` æ˜¯ä¸€ä¸ª**ç±»æ–¹æ³•**ï¼Œç”¨æ¥æ ¹æ®ä¼ å…¥çš„ `shape_type` å‚æ•°åˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„å½¢çŠ¶å¯¹è±¡ (`Circle` æˆ– `Square`)ã€‚
> - `create_shape` å°±æ˜¯å…¸å‹çš„å·¥å‚æ–¹æ³•ï¼Œå®¢æˆ·ç«¯ï¼ˆç”¨æˆ·ä»£ç ï¼‰ä¸éœ€è¦çŸ¥é“å…·ä½“çš„åˆ›å»ºé€»è¾‘ï¼Œåªéœ€è¦ä¼ é€’ä¸€ä¸ªç±»å‹åç§°ï¼ˆå¦‚ `'circle'`ï¼‰å³å¯åˆ›å»ºç›¸åº”çš„å¯¹è±¡ã€‚
> - è¿™ç§æ–¹å¼ç®€åŒ–äº†å¯¹è±¡åˆ›å»ºçš„é€»è¾‘ï¼Œé¿å…äº†å®¢æˆ·ç«¯ç›´æ¥ä¾èµ–å…·ä½“çš„ç±»ã€‚
>
> ### **å·¥å‚æ–¹æ³•çš„ä¼˜åŠ¿**
>
> 1. **å°è£…æ€§**ï¼šéšè—äº†å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚ï¼Œå¤–éƒ¨ä»£ç åªéœ€è¦çŸ¥é“è¦åˆ›å»ºçš„ç±»å‹ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå…·ä½“çš„æ„é€ å‡½æ•°ã€‚
> 2. **æ‰©å±•æ€§**ï¼šå·¥å‚æ–¹æ³•å®¹æ˜“æ‰©å±•ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„ `Triangle` ç±»ï¼Œåªéœ€ä¿®æ”¹å·¥å‚æ–¹æ³•å³å¯ï¼Œæ— éœ€æ›´æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚

## 4ã€ç±»çš„æ–¹æ³•

åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ **def** å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° self, ä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œself ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹ã€‚

## 5ã€ç»§æ‰¿

Python åŒæ ·æ”¯æŒç±»çš„ç»§æ‰¿ï¼Œå¦‚æœä¸€ç§è¯­è¨€ä¸æ”¯æŒç»§æ‰¿ï¼Œç±»å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æ´¾ç”Ÿç±»çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤º:

```py
class DerivedClassName(BaseClassName):
    <statement-1>
    .
    .
    .
    <statement-N>
```

å­ç±»ï¼ˆæ´¾ç”Ÿç±» DerivedClassNameï¼‰ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆåŸºç±» BaseClassNameï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚

BaseClassNameï¼ˆå®ä¾‹ä¸­çš„åŸºç±»åï¼‰å¿…é¡»ä¸æ´¾ç”Ÿç±»å®šä¹‰åœ¨ä¸€ä¸ªä½œç”¨åŸŸå†…ã€‚é™¤äº†ç±»ï¼Œè¿˜å¯ä»¥ç”¨è¡¨è¾¾å¼ï¼ŒåŸºç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­æ—¶è¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨:

```py
class DerivedClassName(modname.BaseClassName):
```

```py
#!/usr/bin/python3
 
#ç±»å®šä¹‰
class people:
    #å®šä¹‰åŸºæœ¬å±æ€§
    name = ''
    age = 0
    #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®
    __weight = 0
    #å®šä¹‰æ„é€ æ–¹æ³•
    def __init__(self,n,a,w):
        self.name = n
        self.age = a
        self.__weight = w
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²ã€‚" %(self.name,self.age))
 
#å•ç»§æ‰¿ç¤ºä¾‹
class student(people):
    grade = ''
    def __init__(self,n,a,w,g):
        #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½
        people.__init__(self,n,a,w)
        self.grade = g
    #è¦†å†™çˆ¶ç±»çš„æ–¹æ³•
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"%(self.name,self.age,self.grade))
 
 
 
s = student('ken',10,60,3)
s.speak()
'''
ken è¯´: æˆ‘ 10 å²äº†ï¼Œæˆ‘åœ¨è¯» 3 å¹´çº§
'''
```

## 6ã€å¤šç»§æ‰¿

PythonåŒæ ·æœ‰é™çš„æ”¯æŒå¤šç»§æ‰¿å½¢å¼ã€‚å¤šç»§æ‰¿çš„ç±»å®šä¹‰å½¢å¦‚ä¸‹ä¾‹:

```py
class DerivedClassName(Base1, Base2, Base3):
    <statement-1>
    .
    .
    .
    <statement-N>
```

éœ€è¦æ³¨æ„åœ†æ‹¬å·ä¸­çˆ¶ç±»çš„é¡ºåºï¼Œè‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpythonä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•ã€‚

```py
#!/usr/bin/python3
 
#ç±»å®šä¹‰
class people:
    #å®šä¹‰åŸºæœ¬å±æ€§
    name = ''
    age = 0
    #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®
    __weight = 0
    #å®šä¹‰æ„é€ æ–¹æ³•
    def __init__(self,n,a,w):
        self.name = n
        self.age = a
        self.__weight = w
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²ã€‚" %(self.name,self.age))
 
#å•ç»§æ‰¿ç¤ºä¾‹
class student(people):
    grade = ''
    def __init__(self,n,a,w,g):
        #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½
        people.__init__(self,n,a,w)
        self.grade = g
    #è¦†å†™çˆ¶ç±»çš„æ–¹æ³•
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"%(self.name,self.age,self.grade))
 
#å¦ä¸€ä¸ªç±»ï¼Œå¤šç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡
class speaker():
    topic = ''
    name = ''
    def __init__(self,n,t):
        self.name = n
        self.topic = t
    def speak(self):
        print("æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s"%(self.name,self.topic))
 
#å¤šç»§æ‰¿
class sample(speaker,student):
    a =''
    def __init__(self,n,a,w,g,t):
        student.__init__(self,n,a,w,g)
        speaker.__init__(self,n,t)
 
test = sample("Tim",25,80,4,"Python")
test.speak()   #æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­å‚æ•°ä½ç½®æ’å‰çˆ¶ç±»çš„æ–¹æ³•
'''
æˆ‘å« Timï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ Python
'''
```

## 7ã€æ–¹æ³•é‡å†™

å¦‚æœä½ çš„çˆ¶ç±»æ–¹æ³•çš„åŠŸèƒ½ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥åœ¨å­ç±»é‡å†™ä½ çˆ¶ç±»çš„æ–¹æ³•ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š

```py
#!/usr/bin/python3
 
class Parent:        # å®šä¹‰çˆ¶ç±»
   def myMethod(self):
      print ('è°ƒç”¨çˆ¶ç±»æ–¹æ³•')
 
class Child(Parent): # å®šä¹‰å­ç±»
   def myMethod(self):
      print ('è°ƒç”¨å­ç±»æ–¹æ³•')
 
c = Child()          # å­ç±»å®ä¾‹
c.myMethod()         # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³•
super(Child,c).myMethod() #ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³•
'''
è°ƒç”¨å­ç±»æ–¹æ³•
è°ƒç”¨çˆ¶ç±»æ–¹æ³•
'''
```

### super ()å‡½æ•°

> Python 3 å¯ä»¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨ **super().xxx** ä»£æ›¿ **super(Class, self).xxx** :
>
> ```py
> class A:
>      def add(self, x):
>          y = x+1
>          print(y)
> class B(A):
>     def add(self, x):
>         super().add(x)
> b = B()
> b.add(2)  # 3
> ```

### é‡å†™çˆ¶ç±»æ„é€ æ–¹æ³•

> æƒ…å†µä¸€ï¼š**å­ç±»éœ€è¦è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š**å­ç±»ä¸é‡å†™`__init__()`æ–¹æ³•ï¼Œå®ä¾‹åŒ–å­ç±»åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„`__init__()`çš„æ–¹æ³•ã€‚
>
> æƒ…å†µäºŒï¼š**å­ç±»ä¸éœ€è¦è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š**å­ç±»é‡å†™`__init__()`æ–¹æ³•ï¼Œå®ä¾‹åŒ–å­ç±»åï¼Œå°†ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„`__init__()`çš„æ–¹æ³•ã€‚
>
> æƒ…å†µä¸‰ï¼š**å­ç±»é‡å†™`__init__()`æ–¹æ³•åˆéœ€è¦è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š**ä½¿ç”¨superå…³é”®è¯

## 8ã€ç±»å±æ€§ä¸æ–¹æ³•

> ### ç±»çš„ç§æœ‰å±æ€§
>
> ==**__private_attrs**ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰==ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶ **self.__private_attrs**ã€‚
>
> ### ç±»çš„æ–¹æ³•
>
> åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° **self**ï¼Œä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ**self** ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹ã€‚
>
> **self** çš„åå­—å¹¶ä¸æ˜¯è§„å®šæ­»çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ **this**ï¼Œä½†æ˜¯æœ€å¥½è¿˜æ˜¯æŒ‰ç…§çº¦å®šä½¿ç”¨ **self**ã€‚
>
> ### ç±»çš„ç§æœ‰æ–¹æ³•
>
> **__private_method**ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨ã€‚**self.__private_methods**ã€‚

### **ç§æœ‰å±æ€§**

```py
#!/usr/bin/python3
 
class JustCounter:
    __secretCount = 0  # ç§æœ‰å˜é‡
    publicCount = 0    # å…¬å¼€å˜é‡
 
    def count(self):
        self.__secretCount += 1
        self.publicCount += 1
        print (self.__secretCount)
 
counter = JustCounter()
counter.count()
counter.count()
print (counter.publicCount)
print (counter.__secretCount)  # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡

'''
1
2
2
Traceback (most recent call last):
  File "test.py", line 16, in <module>
    print (counter.__secretCount)  # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡
AttributeError: 'JustCounter' object has no attribute '__secretCount'
'''
```

### **ç§æœ‰æ–¹æ³•**

```py
#!/usr/bin/python3
 
class Site:
    def __init__(self, name, url):
        self.name = name       # public
        self.__url = url   # private
 
    def who(self):
        print('name  : ', self.name)
        print('url : ', self.__url)
 
    def __foo(self):          # ç§æœ‰æ–¹æ³•
        print('è¿™æ˜¯ç§æœ‰æ–¹æ³•')
 
    def foo(self):            # å…¬å…±æ–¹æ³•
        print('è¿™æ˜¯å…¬å…±æ–¹æ³•')
        self.__foo()
 
x = Site('èœé¸Ÿæ•™ç¨‹', 'www.runoob.com')
x.who()        # æ­£å¸¸è¾“å‡º
x.foo()        # æ­£å¸¸è¾“å‡º
x.__foo()      # æŠ¥é”™
```

![img](https://www.runoob.com/wp-content/uploads/2014/05/F5C2A308-3A88-42B4-B575-C719EB8F1CC4.jpg)

### ç±»çš„ä¸“æœ‰æ–¹æ³•ï¼š

- **__init__ :** æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨
- **__del__ :** ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨
- **__repr__ :** æ‰“å°ï¼Œè½¬æ¢
- **__setitem__ :** æŒ‰ç…§ç´¢å¼•èµ‹å€¼
- **__getitem__:** æŒ‰ç…§ç´¢å¼•è·å–å€¼
- **__len__:** è·å¾—é•¿åº¦
- **__cmp__:** æ¯”è¾ƒè¿ç®—
- **__call__:** å‡½æ•°è°ƒç”¨
- **__add__:** åŠ è¿ç®—
- **__sub__:** å‡è¿ç®—
- **__mul__:** ä¹˜è¿ç®—
- **__truediv__:** é™¤è¿ç®—
- **__mod__:** æ±‚ä½™è¿ç®—
- **__pow__:** ä¹˜æ–¹

## 9ã€è¿ç®—ç¬¦é‡è½½

PythonåŒæ ·æ”¯æŒè¿ç®—ç¬¦é‡è½½ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç±»çš„ä¸“æœ‰æ–¹æ³•è¿›è¡Œé‡è½½ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š

```py
#!/usr/bin/python3
 
class Vector:
   def __init__(self, a, b):
      self.a = a
      self.b = b
 
   def __str__(self):
      return 'Vector (%d, %d)' % (self.a, self.b)
   
   def __add__(self,other):
      return Vector(self.a + other.a, self.b + other.b)
 
v1 = Vector(2,10)
v2 = Vector(5,-2)
print (v1 + v2)

'''
Vector(7,8)
'''
```

# ä¸‰ã€å‘½åç©ºé—´å’Œä½œç”¨åŸŸ

## 1ã€å‘½åç©ºé—´

ä¸€èˆ¬æœ‰ä¸‰ç§å‘½åç©ºé—´ï¼š

- **å†…ç½®åç§°ï¼ˆbuilt-in names**ï¼‰ï¼Œ Python è¯­è¨€å†…ç½®çš„åç§°ï¼Œæ¯”å¦‚å‡½æ•°å absã€char å’Œå¼‚å¸¸åç§° BaseExceptionã€Exception ç­‰ç­‰ã€‚
- **å…¨å±€åç§°ï¼ˆglobal namesï¼‰**ï¼Œæ¨¡å—ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†æ¨¡å—çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»ã€å…¶å®ƒå¯¼å…¥çš„æ¨¡å—ã€æ¨¡å—çº§çš„å˜é‡å’Œå¸¸é‡ã€‚
- **å±€éƒ¨åç§°ï¼ˆlocal namesï¼‰**ï¼Œå‡½æ•°ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†å‡½æ•°çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°çš„å‚æ•°å’Œå±€éƒ¨å®šä¹‰çš„å˜é‡ã€‚ï¼ˆç±»ä¸­å®šä¹‰çš„ä¹Ÿæ˜¯ï¼‰

å‘½åç©ºé—´æŸ¥æ‰¾é¡ºåº:

å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨å˜é‡ runoobï¼Œåˆ™ Python çš„æŸ¥æ‰¾é¡ºåºä¸ºï¼š**å±€éƒ¨çš„å‘½åç©ºé—´ -> å…¨å±€å‘½åç©ºé—´ -> å†…ç½®å‘½åç©ºé—´**ã€‚

å¦‚æœæ‰¾ä¸åˆ°å˜é‡ runoobï¼Œå®ƒå°†æ”¾å¼ƒæŸ¥æ‰¾å¹¶å¼•å‘ä¸€ä¸ª NameError å¼‚å¸¸:

> NameError: name 'runoob' is not definedã€‚

## 2ã€ä½œç”¨åŸŸ

åœ¨ä¸€ä¸ª python ç¨‹åºä¸­ï¼Œç›´æ¥è®¿é—®ä¸€ä¸ªå˜é‡ï¼Œä¼šä»å†…åˆ°å¤–ä¾æ¬¡è®¿é—®æ‰€æœ‰çš„ä½œç”¨åŸŸç›´åˆ°æ‰¾åˆ°ï¼Œå¦åˆ™ä¼šæŠ¥æœªå®šä¹‰çš„é”™è¯¯ã€‚

==Python ä¸­åªæœ‰æ¨¡å—ï¼ˆmoduleï¼‰ï¼Œç±»ï¼ˆclassï¼‰ä»¥åŠå‡½æ•°ï¼ˆdefã€lambdaï¼‰æ‰ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸï¼Œå…¶å®ƒçš„ä»£ç å—ï¼ˆå¦‚ if/elif/else/ã€try/exceptã€for/whileç­‰ï¼‰æ˜¯ä¸ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›è¯­å¥å†…å®šä¹‰çš„å˜é‡ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®==

### å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡

å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡æ‹¥æœ‰ä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–çš„æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚

å±€éƒ¨å˜é‡åªèƒ½åœ¨å…¶è¢«å£°æ˜çš„å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œè€Œå…¨å±€å˜é‡å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºèŒƒå›´å†…è®¿é—®ã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰€æœ‰åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡åç§°éƒ½å°†è¢«åŠ å…¥åˆ°ä½œç”¨åŸŸä¸­ã€‚

```py
#!/usr/bin/python3
 
total = 0 # è¿™æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡
# å¯å†™å‡½æ•°è¯´æ˜
def sum( arg1, arg2 ):
    #è¿”å›2ä¸ªå‚æ•°çš„å’Œ."
    total = arg1 + arg2 # totalåœ¨è¿™é‡Œæ˜¯å±€éƒ¨å˜é‡.
    print ("å‡½æ•°å†…æ˜¯å±€éƒ¨å˜é‡ : ", total)
    return total
 
#è°ƒç”¨sumå‡½æ•°
sum( 10, 20 )
print ("å‡½æ•°å¤–æ˜¯å…¨å±€å˜é‡ : ", total)
'''
å‡½æ•°å†…æ˜¯å±€éƒ¨å˜é‡ :  30
å‡½æ•°å¤–æ˜¯å…¨å±€å˜é‡ :  0
'''
```

### global å’Œ nonlocalå…³é”®å­—

å½“å†…éƒ¨ä½œç”¨åŸŸæƒ³ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡æ—¶ï¼Œå°±è¦ç”¨åˆ° global å’Œ nonlocal å…³é”®å­—äº†ã€‚

ä»¥ä¸‹å®ä¾‹ä¿®æ”¹å…¨å±€å˜é‡ numï¼š

```py
#!/usr/bin/python3
 
num = 1
def fun1():
    global num  # éœ€è¦ä½¿ç”¨ global å…³é”®å­—å£°æ˜
    print(num) 
    num = 123
    print(num)
fun1()
print(num)
'''
1
123
123
'''
```

å¦‚æœè¦ä¿®æ”¹åµŒå¥—ä½œç”¨åŸŸï¼ˆenclosing ä½œç”¨åŸŸï¼Œå¤–å±‚éå…¨å±€ä½œç”¨åŸŸï¼‰ä¸­çš„å˜é‡åˆ™éœ€è¦ nonlocal å…³é”®å­—äº†ï¼Œå¦‚ä¸‹å®ä¾‹ï¼š

```py
#!/usr/bin/python3
 
def outer():
    num = 10
    def inner():
        nonlocal num   # nonlocalå…³é”®å­—å£°æ˜
        num = 100
        print(num)
    inner()
    print(num)
outer()
'''
100
100
'''
```

> ### **`global` ä¸ `nonlocal` çš„åŒºåˆ«**
>
> | **å…³é”®å­—** | **ä½œç”¨èŒƒå›´**         | **ä¿®æ”¹ç›®æ ‡**             | **å…¸å‹åœºæ™¯**                                     |
> | ---------- | -------------------- | ------------------------ | ------------------------------------------------ |
> | `global`   | å…¨å±€ä½œç”¨åŸŸ           | ä¿®æ”¹å…¨å±€å˜é‡             | åœ¨å±€éƒ¨å‡½æ•°ä¸­ä¿®æ”¹å…¨å±€å˜é‡                         |
> | `nonlocal` | å¤–å±‚å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸ | ä¿®æ”¹å¤–å±‚å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ | åœ¨åµŒå¥—å‡½æ•°ä¸­ä¿®æ”¹å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼ˆéå…¨å±€å˜é‡ï¼‰ |
>
> #### `global` ä¸ `nonlocal` å¯¹æ¯”ï¼š
>
> ```py
> x = 5  # å…¨å±€å˜é‡
> 
> def outer():
>     y = 10  # å¤–å±‚å‡½æ•°å˜é‡
> 
>     def inner_global():
>         global x  # ä¿®æ”¹å…¨å±€å˜é‡
>         x = 50
> 
>     def inner_nonlocal():
>         nonlocal y  # ä¿®æ”¹å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡
>         y = 100
> 
>     inner_global()
>     inner_nonlocal()
>     
>     print("y =", y)  # è¾“å‡º 100
>     print("x =", x)  # è¾“å‡º 50
> 
> outer()
> ```

**ä¿®æ”¹å¤–å±‚å˜é‡çš„æ–¹æ³•**

```py
#globalä¿®é¥°ä¸ºå…¨å±€å˜é‡
#!/usr/bin/python3
 
a = 10
def test():
    global a
    a = a + 1
    print(a)
test()
#å‚æ•°ä¼ é€’
#!/usr/bin/python3
 
a = 10
def test(a):
    a = a + 1
    print(a)
test(a)
```

# å››ã€Pythonæ ‡å‡†åº“æ¦‚è§ˆ

Python æ ‡å‡†åº“éå¸¸åºå¤§ï¼Œæ‰€æä¾›çš„ç»„ä»¶æ¶‰åŠèŒƒå›´ååˆ†å¹¿æ³›ï¼Œä½¿ç”¨æ ‡å‡†åº“æˆ‘ä»¬å¯ä»¥è®©æ‚¨è½»æ¾åœ°å®Œæˆå„ç§ä»»åŠ¡ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº› Python3 æ ‡å‡†åº“ä¸­çš„æ¨¡å—ï¼š

- os æ¨¡å—ï¼šos æ¨¡å—æä¾›äº†è®¸å¤šä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„å‡½æ•°ï¼Œä¾‹å¦‚åˆ›å»ºã€ç§»åŠ¨å’Œåˆ é™¤æ–‡ä»¶å’Œç›®å½•ï¼Œä»¥åŠè®¿é—®ç¯å¢ƒå˜é‡ç­‰ã€‚
- sys æ¨¡å—ï¼šsys æ¨¡å—æä¾›äº†ä¸ Python è§£é‡Šå™¨å’Œç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è§£é‡Šå™¨çš„ç‰ˆæœ¬å’Œè·¯å¾„ï¼Œä»¥åŠä¸ stdinã€stdout å’Œ stderr ç›¸å…³çš„ä¿¡æ¯ã€‚
- time æ¨¡å—ï¼štime æ¨¡å—æä¾›äº†å¤„ç†æ—¶é—´çš„å‡½æ•°ï¼Œä¾‹å¦‚è·å–å½“å‰æ—¶é—´ã€æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ã€è®¡æ—¶ç­‰ã€‚
- datetime æ¨¡å—ï¼šdatetime æ¨¡å—æä¾›äº†æ›´é«˜çº§çš„æ—¥æœŸå’Œæ—¶é—´å¤„ç†å‡½æ•°ï¼Œä¾‹å¦‚å¤„ç†æ—¶åŒºã€è®¡ç®—æ—¶é—´å·®ã€è®¡ç®—æ—¥æœŸå·®ç­‰ã€‚
- random æ¨¡å—ï¼šrandom æ¨¡å—æä¾›äº†ç”Ÿæˆéšæœºæ•°çš„å‡½æ•°ï¼Œä¾‹å¦‚ç”Ÿæˆéšæœºæ•´æ•°ã€æµ®ç‚¹æ•°ã€åºåˆ—ç­‰ã€‚
- math æ¨¡å—ï¼šmath æ¨¡å—æä¾›äº†æ•°å­¦å‡½æ•°ï¼Œä¾‹å¦‚ä¸‰è§’å‡½æ•°ã€å¯¹æ•°å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ã€å¸¸æ•°ç­‰ã€‚
- re æ¨¡å—ï¼šre æ¨¡å—æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼å¤„ç†å‡½æ•°ï¼Œå¯ä»¥ç”¨äºæ–‡æœ¬æœç´¢ã€æ›¿æ¢ã€åˆ†å‰²ç­‰ã€‚
- json æ¨¡å—ï¼šjson æ¨¡å—æä¾›äº† JSON ç¼–ç å’Œè§£ç å‡½æ•°ï¼Œå¯ä»¥å°† Python å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼ï¼Œå¹¶ä» JSON æ ¼å¼ä¸­è§£æå‡º Python å¯¹è±¡ã€‚
- urllib æ¨¡å—ï¼šurllib æ¨¡å—æä¾›äº†è®¿é—®ç½‘é¡µå’Œå¤„ç† URL çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¸‹è½½æ–‡ä»¶ã€å‘é€ POST è¯·æ±‚ã€å¤„ç† cookies ç­‰ã€‚

# äº”ã€Pythonå†…ç½®å‡½æ•°

[Python3 å†…ç½®å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/python3/python3-built-in-functions.html)