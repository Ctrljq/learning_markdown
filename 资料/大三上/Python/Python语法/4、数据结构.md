# ä¸€ã€åˆ—è¡¨

Pythonä¸­åˆ—è¡¨æ˜¯å¯å˜çš„ï¼Œè¿™æ˜¯å®ƒåŒºåˆ«äºå­—ç¬¦ä¸²å’Œå…ƒç»„çš„æœ€é‡è¦çš„ç‰¹ç‚¹ï¼Œä¸€å¥è¯æ¦‚æ‹¬å³ï¼šåˆ—è¡¨å¯ä»¥ä¿®æ”¹ï¼Œè€Œå­—ç¬¦ä¸²å’Œå…ƒç»„ä¸èƒ½ã€‚

ä»¥ä¸‹æ˜¯ Python ä¸­åˆ—è¡¨çš„æ–¹æ³•ï¼š

| æ–¹æ³•              | æè¿°                                                         |
| :---------------- | :----------------------------------------------------------- |
| list.append(x)    | æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„ç»“å°¾ï¼Œ==ç›¸å½“äº a[len(a):] = [x]ã€‚==    |
| list.extend(L)    | é€šè¿‡æ·»åŠ æŒ‡å®šåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ æ¥æ‰©å……åˆ—è¡¨ï¼Œç›¸å½“äº a[len(a):] = Lã€‚ |
| list.insert(i, x) | åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡†å¤‡æ’å…¥åˆ°å…¶å‰é¢çš„é‚£ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œä¾‹å¦‚ a.insert(0, x) ä¼šæ’å…¥åˆ°æ•´ä¸ªåˆ—è¡¨ä¹‹å‰ï¼Œè€Œ a.insert(len(a), x) ç›¸å½“äº a.append(x) ã€‚ |
| list.remove(x)    | åˆ é™¤åˆ—è¡¨ä¸­å€¼ä¸º x çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ |
| list.pop([i])     | ä»åˆ—è¡¨çš„æŒ‡å®šä½ç½®ç§»é™¤å…ƒç´ ï¼Œå¹¶å°†å…¶è¿”å›ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç´¢å¼•ï¼Œa.pop()è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚å…ƒç´ éšå³ä»åˆ—è¡¨ä¸­è¢«ç§»é™¤ã€‚==ï¼ˆæ–¹æ³•ä¸­ i ä¸¤è¾¹çš„æ–¹æ‹¬å·è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè€Œä¸æ˜¯è¦æ±‚ä½ è¾“å…¥ä¸€å¯¹æ–¹æ‹¬å·ï¼Œä½ ä¼šç»å¸¸åœ¨ Python åº“å‚è€ƒæ‰‹å†Œä¸­é‡åˆ°è¿™æ ·çš„æ ‡è®°ã€‚ï¼‰== |
| list.clear()      | ç§»é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ï¼Œç­‰äºdel a[:]ã€‚                           |
| list.index(x)     | è¿”å›åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º x çš„å…ƒç´ çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„å…ƒç´ å°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ |
| list.count(x)     | è¿”å› x åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚                                  |
| list.sort()       | å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚                                     |
| list.reverse()    | å€’æ’åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚                                           |
| list.copy()       | è¿”å›åˆ—è¡¨çš„æµ…å¤åˆ¶ï¼Œç­‰äºa[:]ã€‚                                 |

## 1ã€å°†åˆ—è¡¨å½“åšæ ˆä½¿ç”¨

åœ¨ Python ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åˆ—è¡¨ï¼ˆlistï¼‰æ¥å®ç°æ ˆçš„åŠŸèƒ½ã€‚æ ˆæ˜¯ä¸€ç§åè¿›å…ˆå‡ºï¼ˆLIFO, Last-In-First-Outï¼‰æ•°æ®ç»“æ„ï¼Œæ„å‘³ç€æœ€åæ·»åŠ çš„å…ƒç´ æœ€å…ˆè¢«ç§»é™¤ã€‚åˆ—è¡¨æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œä½¿å…¶éå¸¸é€‚åˆç”¨äºæ ˆæ“ä½œï¼Œç‰¹åˆ«æ˜¯ **append()** å’Œ **pop()** æ–¹æ³•ã€‚

ç”¨ append() æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æ ˆé¡¶ï¼Œç”¨ä¸æŒ‡å®šç´¢å¼•çš„ pop() æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ ä»æ ˆé¡¶é‡Šæ”¾å‡ºæ¥ã€‚

> ### æ ˆæ“ä½œ
>
> - **å‹å…¥ï¼ˆPushï¼‰**: å°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æ ˆçš„é¡¶ç«¯ã€‚
> - **å¼¹å‡ºï¼ˆPopï¼‰**: ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
> - **æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ï¼ˆPeek/Topï¼‰**: è¿”å›æ ˆé¡¶å…ƒç´ è€Œä¸ç§»é™¤å®ƒã€‚
> - **æ£€æŸ¥æ˜¯å¦ä¸ºç©ºï¼ˆIsEmptyï¼‰**: æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©ºã€‚
> - **è·å–æ ˆçš„å¤§å°ï¼ˆSizeï¼‰**: è·å–æ ˆä¸­å…ƒç´ çš„æ•°é‡ã€‚

> ### 1ã€åˆ›å»ºä¸€ä¸ªç©ºæ ˆ
>
> ## å®ä¾‹
>
> ```py
> stack = []
> ```
>
> ### 2ã€å‹å…¥ï¼ˆPushï¼‰æ“ä½œ
>
> ä½¿ç”¨ append() æ–¹æ³•å°†å…ƒç´ æ·»åŠ åˆ°æ ˆçš„é¡¶ç«¯ï¼š
>
> ## å®ä¾‹
>
> ```py
> stack.append(1)
> stack.append(2)
> stack.append(3)
> print(stack) # è¾“å‡º: [1, 2, 3]
> ```
>
> ### 3ã€å¼¹å‡ºï¼ˆPopï¼‰æ“ä½œ
>
> ä½¿ç”¨ pop() æ–¹æ³•ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ï¼š
>
> ## å®ä¾‹
>
> ```py
> top_element = stack.pop()
> print(top_element) # è¾“å‡º: 3
> print(stack)     # è¾“å‡º: [1, 2]
> ```
>
> ### 4ã€æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ï¼ˆPeek/Topï¼‰
>
> ç›´æ¥è®¿é—®åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆä¸ç§»é™¤ï¼‰ï¼š
>
> ## å®ä¾‹
>
> ```py
> top_element = stack[-1]
> print(top_element) # è¾“å‡º: 2
> ```
>
> ### 5ã€æ£€æŸ¥æ˜¯å¦ä¸ºç©ºï¼ˆIsEmptyï¼‰
>
> æ£€æŸ¥åˆ—è¡¨æ˜¯å¦ä¸ºç©ºï¼š
>
> ## å®ä¾‹
>
> ```py
> is_empty = len(stack) == 0
> print(is_empty) # è¾“å‡º: False
> ```
>
> ### 6ã€è·å–æ ˆçš„å¤§å°ï¼ˆSizeï¼‰
>
> ä½¿ç”¨ len() å‡½æ•°è·å–æ ˆä¸­å…ƒç´ çš„æ•°é‡ï¼š
>
> ## å®ä¾‹
>
> ```py
> size = len(stack)
> print(size) # è¾“å‡º: 2
> ```

## 2ã€å°†åˆ—è¡¨å½“ä½œé˜Ÿåˆ—ä½¿ç”¨

åœ¨ Python ä¸­ï¼Œåˆ—è¡¨ï¼ˆlistï¼‰å¯ä»¥ç”¨ä½œé˜Ÿåˆ—ï¼ˆqueueï¼‰ï¼Œä½†ç”±äºåˆ—è¡¨çš„ç‰¹ç‚¹ï¼Œç›´æ¥ä½¿ç”¨åˆ—è¡¨æ¥å®ç°é˜Ÿåˆ—å¹¶ä¸æ˜¯æœ€ä¼˜çš„é€‰æ‹©ã€‚

é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO, First-In-First-Outï¼‰çš„æ•°æ®ç»“æ„ï¼Œæ„å‘³ç€æœ€æ—©æ·»åŠ çš„å…ƒç´ æœ€å…ˆè¢«ç§»é™¤ã€‚

ä½¿ç”¨åˆ—è¡¨æ—¶ï¼Œå¦‚æœé¢‘ç¹åœ°åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œæ€§èƒ½ä¼šå—åˆ°å½±å“ï¼Œå› ä¸ºè¿™äº›æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPython æä¾›äº† collections.dequeï¼Œå®ƒæ˜¯åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥åœ¨ä¸¤ç«¯é«˜æ•ˆåœ°æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚

> ### ä½¿ç”¨ collections.deque å®ç°é˜Ÿåˆ—
>
> collections.deque æ˜¯ Python æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œéå¸¸é€‚åˆç”¨äºå®ç°é˜Ÿåˆ—ã€‚
>
> ä»¥ä¸‹æ˜¯ä½¿ç”¨ deque å®ç°é˜Ÿåˆ—çš„ç¤ºä¾‹ï¼š
>
> ```py
> from collections import deque
> 
> # åˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—
> queue = deque()
> 
> # å‘é˜Ÿå°¾æ·»åŠ å…ƒç´ 
> queue.append('a')
> queue.append('b')
> queue.append('c')
> 
> print("é˜Ÿåˆ—çŠ¶æ€:", queue)  # è¾“å‡º: é˜Ÿåˆ—çŠ¶æ€: deque(['a', 'b', 'c'])
> 
> # ä»é˜Ÿé¦–ç§»é™¤å…ƒç´ 
> first_element = queue.popleft()
> print("ç§»é™¤çš„å…ƒç´ :", first_element)  # è¾“å‡º: ç§»é™¤çš„å…ƒç´ : a
> print("é˜Ÿåˆ—çŠ¶æ€:", queue)            # è¾“å‡º: é˜Ÿåˆ—çŠ¶æ€: deque(['b', 'c'])
> 
> # æŸ¥çœ‹é˜Ÿé¦–å…ƒç´ ï¼ˆä¸ç§»é™¤ï¼‰
> front_element = queue[0]
> print("é˜Ÿé¦–å…ƒç´ :", front_element)    # è¾“å‡º: é˜Ÿé¦–å…ƒç´ : b
> 
> # æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
> is_empty = len(queue) == 0
> print("é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º:", is_empty)     # è¾“å‡º: é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º: False
> 
> # è·å–é˜Ÿåˆ—å¤§å°
> size = len(queue)
> print("é˜Ÿåˆ—å¤§å°:", size)            # è¾“å‡º: é˜Ÿåˆ—å¤§å°: 2
> ```

## 3ã€åˆ—è¡¨æ¨å¯¼å¼

[è¡¨è¾¾å¼ for å…ƒç´  in å¯è¿­ä»£å¯¹è±¡ if æ¡ä»¶]

```py
list1 = [1, 2, 3]
list2 = ['a', 'b', 'c']
cartesian_product = [(x, y) for x in list1 for y in list2]
print(cartesian_product)  # è¾“å‡º: [(1, 'a'), (1, 'b'), (1, 'c'), (2, 'a'), (2, 'b'), (2, 'c'), (3, 'a'), (3, 'b'), (3, 'c')]
```

```py
words = ['python', 'is', 'awesome']
upper_words = [word.upper() for word in words]
print(upper_words)  # è¾“å‡º: ['PYTHON', 'IS', 'AWESOME']
```

## 4ã€åµŒå¥—åˆ—è¡¨ğŸ˜Ÿ

```py
>>> matrix = [
...     [1, 2, 3, 4],
...     [5, 6, 7, 8],
...     [9, 10, 11, 12],
... ]
```

```py
>>> [[row[i] for row in matrix] for i in range(4)]
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]
```

> ### åˆ†æç»“æœ
>
> å½“ `i` ä» 0 åˆ° 3 è¿›è¡Œå¾ªç¯æ—¶ï¼Œå†…å±‚çš„åˆ—è¡¨æ¨å¯¼å¼ä¼šéå†æ¯ä¸€è¡Œï¼Œå¹¶æå–è¯¥åˆ—çš„å…ƒç´ ã€‚
>
> 1. å½“ `i = 0` æ—¶ï¼Œå†…å±‚æå–æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š`[1, 5, 9]`
> 2. å½“ `i = 1` æ—¶ï¼Œå†…å±‚æå–æ¯ä¸€è¡Œçš„ç¬¬äºŒä¸ªå…ƒç´ ï¼š`[2, 6, 10]`
> 3. å½“ `i = 2` æ—¶ï¼Œå†…å±‚æå–æ¯ä¸€è¡Œçš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼š`[3, 7, 11]`
> 4. å½“ `i = 3` æ—¶ï¼Œå†…å±‚æå–æ¯ä¸€è¡Œçš„ç¬¬å››ä¸ªå…ƒç´ ï¼š`[4, 8, 12]`

**å…¶ä»–ç¿»è½¬çŸ©é˜µæ–¹æ³•**

```py
>>> transposed = []
>>> for i in range(4):
...     transposed.append([row[i] for row in matrix])
...
>>> transposed
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]
```

```py
>>> transposed = []
>>> for i in range(4):
...     # the following 3 lines implement the nested listcomp
...     transposed_row = []
...     for row in matrix:
...         transposed_row.append(row[i])
...     transposed.append(transposed_row)
...
>>> transposed
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]
```

## 5ã€delè¯­å¥

ä½¿ç”¨ del è¯­å¥å¯ä»¥ä»ä¸€ä¸ªåˆ—è¡¨ä¸­æ ¹æ®ç´¢å¼•æ¥åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä¸æ˜¯å€¼æ¥åˆ é™¤å…ƒç´ ã€‚è¿™ä¸ä½¿ç”¨ pop() è¿”å›ä¸€ä¸ªå€¼ä¸åŒã€‚å¯ä»¥ç”¨ del è¯­å¥ä»åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªåˆ‡å‰²ï¼Œæˆ–æ¸…ç©ºæ•´ä¸ªåˆ—è¡¨ï¼ˆæˆ‘ä»¬ä»¥å‰ä»‹ç»çš„æ–¹æ³•æ˜¯ç»™è¯¥åˆ‡å‰²èµ‹ä¸€ä¸ªç©ºåˆ—è¡¨ï¼‰ã€‚

```py
>>> a = [-1, 1, 66.25, 333, 333, 1234.5]
>>> del a[0]
>>> a
[1, 66.25, 333, 333, 1234.5]
>>> del a[2:4]
>>> a
[1, 66.25, 1234.5]
>>> del a[:]
>>> a
[]
```

## 6ã€å­—å…¸åŠå…¶éå†

å­—å…¸ä¸­éå†æ—¶ï¼Œå…³é”®å­—å’Œå¯¹åº”çš„å€¼å¯ä»¥ä½¿ç”¨ items() æ–¹æ³•åŒæ—¶è§£è¯»å‡ºæ¥

```py
>>> knights = {'gallahad': 'the pure', 'robin': 'the brave'}
>>> for k, v in knights.items():
...     print(k, v)
...
gallahad the pure
robin the brave
```

åœ¨åºåˆ—ä¸­éå†æ—¶ï¼Œç´¢å¼•ä½ç½®å’Œå¯¹åº”å€¼å¯ä»¥ä½¿ç”¨ enumerate() å‡½æ•°åŒæ—¶å¾—åˆ°ï¼š

`enumerate` å°†åˆ—è¡¨ `['tic', 'tac', 'toe']` è½¬æ¢æˆä¸€ä¸ªç”Ÿæˆç´¢å¼•å’Œå€¼çš„è¿­ä»£å™¨ï¼Œä½¿ä½ å¯ä»¥åœ¨å¾ªç¯ä¸­åŒæ—¶è®¿é—®ç´¢å¼•å’Œå…ƒç´ ã€‚

```py
>>> for i, v in enumerate(['tic', 'tac', 'toe']):
...     print(i, v)
...
0 tic
1 tac
2 toe
```

åŒæ—¶éå†ä¸¤ä¸ªæˆ–æ›´å¤šçš„åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ zip() ç»„åˆï¼š

```py
>>> questions = ['name', 'quest', 'favorite color']
>>> answers = ['lancelot', 'the holy grail', 'blue']
>>> for q, a in zip(questions, answers):
...     print('What is your {0}?  It is {1}.'.format(q, a))
...
What is your name?  It is lancelot.
What is your quest?  It is the holy grail.
What is your favorite color?  It is blue.
```

è¦åå‘éå†ä¸€ä¸ªåºåˆ—ï¼Œé¦–å…ˆæŒ‡å®šè¿™ä¸ªåºåˆ—ï¼Œç„¶åè°ƒç”¨ reversed() å‡½æ•°ï¼š

```py
>>> for i in reversed(range(1, 10, 2)):
...     print(i)
...
9
7
5
3
1
```

è¦æŒ‰é¡ºåºéå†ä¸€ä¸ªåºåˆ—ï¼Œä½¿ç”¨ sorted() å‡½æ•°è¿”å›ä¸€ä¸ªå·²æ’åºçš„åºåˆ—ï¼Œå¹¶ä¸ä¿®æ”¹åŸå€¼ï¼š

```py
>>> basket = ['apple', 'orange', 'apple', 'pear', 'orange', 'banana']
>>> for f in sorted(set(basket)):
...     print(f)
...
apple
banana
orange
pear
```

